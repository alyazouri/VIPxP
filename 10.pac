// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—
// â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ–ˆâ•—    â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘
// â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘
// â–ˆâ–ˆâ•‘     â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•    â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘
// â•šâ•â•      â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•  â•šâ•â•â•â•â•â•     â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•â•
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//
// â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—
// â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘
// â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘
// â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘
// â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘
// â•šâ•â•     â•šâ•â•â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•   â•šâ•â•   â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•    â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â• â•šâ•â•   â•šâ•â•   â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•â•
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//
// ğŸ‡¯ğŸ‡´ JORDAN ONLY - MAXIMUM PLAYER FILTERING
// ğŸ”’ ULTIMATE STABILITY - ZERO SERVER SWITCHING
// âš¡ ULTRA PERFORMANCE - AGGRESSIVE OPTIMIZATION
// ğŸ¯ 100% DETECTION - ALL GAME MODES & FEATURES
// 
// Version: 10.0 MASTER EDITION
// Date: 2025
// Author: Ultimate PUBG Optimizer
// 
// DNS: 1.1.1.1 + 1.0.0.1
// RESTART DEVICE AFTER INSTALLATION
// 
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘                          MASTER CONFIGURATION                                 â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

var MASTER_CONFIG = {
  // â•â•â• CORE SETTINGS â•â•â•
  VERSION: "10.0.MASTER",
  BUILD_DATE: "2025-02-09",
  
  // â•â•â• OPERATION MODE â•â•â•
  ULTRA_STRICT_MODE: true,              // Ù…Ù†Ø¹ ÙƒÙ„ Ø´ÙŠ ØºÙŠØ± Ø£Ø±Ø¯Ù†ÙŠ
  ALLOW_ONLY_JORDAN: true,              // Ø£Ø±Ø¯Ù† ÙÙ‚Ø· - Ù„Ø§ Ø§Ø³ØªØ«Ù†Ø§Ø¡Ø§Øª
  BLOCK_MIDDLE_EAST: true,              // Ù…Ù†Ø¹ Ø­ØªÙ‰ Ø§Ù„Ø®Ù„ÙŠØ¬
  BLOCK_ALL_INTERNATIONAL: true,         // Ù…Ù†Ø¹ ÙƒÙ„ Ø§Ù„Ø¹Ø§Ù„Ù…
  FORCE_JORDAN_SERVERS: true,           // Ø¥Ø¬Ø¨Ø§Ø± Ø³ÙŠØ±ÙØ±Ø§Øª Ø£Ø±Ø¯Ù†ÙŠØ©
  
  // â•â•â• TIMEOUTS & STABILITY â•â•â•
  MATCH_TIMEOUT: 600000,                // 10 min (Ø£Ø·ÙˆÙ„ Ù…Ø§ØªØ´ Ù…Ù…ÙƒÙ†)
  MATCH_EXTENSION: 120000,              // +2 min Ø¥Ø°Ø§ Ù†Ø´Ø·
  LOBBY_TIMEOUT: 360000,                // 6 min 
  SESSION_PERSISTENCE: 900000,          // 15 min session memory
  
  // â•â•â• PERFORMANCE â•â•â•
  DNS_CACHE_TTL: 600000,                // 10 min (Ø£Ù‚ØµÙ‰ caching)
  DNS_PREFETCH_ENABLED: true,           // Prefetch DNS
  AGGRESSIVE_CACHING: true,             // Cache ÙƒÙ„ Ø´ÙŠ
  CACHE_CLEANUP_INTERVAL: 1800000,      // 30 min cleanup
  CACHE_CLEANUP_PROBABILITY: 0.02,      // 2% per request
  
  // â•â•â• QUALITY CONTROL â•â•â•
  MIN_SERVER_QUALITY: 75,               // Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ø¬ÙˆØ¯Ø© Ø§Ù„Ø³ÙŠØ±ÙØ±
  MAX_FAILURES_ALLOWED: 4,              // 4 ÙØ´Ù„ Ù‚Ø¨Ù„ Ø§Ù„ØªØ¨Ø¯ÙŠÙ„
  HEALTH_CHECK_ENABLED: true,           // Ù…Ø±Ø§Ù‚Ø¨Ø© ØµØ­Ø© Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª
  HEALTH_RECOVERY_THRESHOLD: 3,         // 3 Ù†Ø¬Ø§Ø­ Ù„Ù„Ø§Ø³ØªØ¹Ø§Ø¯Ø©
  AUTO_FAILOVER_ENABLED: true,          // ØªØ¨Ø¯ÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ Ø§Ù„ÙØ´Ù„
  
  // â•â•â• DETECTION & ANALYSIS â•â•â•
  DEEP_INSPECTION_ENABLED: true,        // ÙØ­Øµ Ø¹Ù…ÙŠÙ‚ Ù„Ù„Ù€ traffic
  PATTERN_DETECTION_ENABLED: true,      // Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø£Ù†Ù…Ø§Ø·
  PATTERN_LEARNING_ENABLED: true,       // ØªØ¹Ù„Ù… Ù…Ù† Ø§Ù„Ø£Ù†Ù…Ø§Ø·
  ISP_AUTO_DETECTION: true,             // ÙƒØ´Ù ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ù€ ISP
  REGION_AUTO_DETECTION: true,          // ÙƒØ´Ù ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ù…Ù†Ø·Ù‚Ø©
  
  // â•â•â• ADVANCED FEATURES â•â•â•
  PREDICTIVE_LOADING: true,             // ØªØ­Ù…ÙŠÙ„ ØªÙ†Ø¨Ø¤ÙŠ
  REQUEST_DEDUPLICATION: true,          // Ù…Ù†Ø¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ÙƒØ±Ø±Ø©
  CONNECTION_POOLING: true,             // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø§ØªØµØ§Ù„Ø§Øª
  SMART_LOAD_BALANCING: true,           // ØªÙˆØ²ÙŠØ¹ Ø°ÙƒÙŠ Ù„Ù„Ø£Ø­Ù…Ø§Ù„
  PRIORITY_QUEUING: true,               // Ø£ÙˆÙ„ÙˆÙŠØ§Øª Ù„Ù„Ø·Ù„Ø¨Ø§Øª
  
  // â•â•â• LOGGING & STATS â•â•â•
  ENABLE_STATS: true,                   // Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù…ÙØµÙ„Ø©
  ENABLE_DEBUG: false,                  // Debug mode (Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙÙ‚Ø·)
  STATS_INTERVAL: 300000,               // 5 min stats update
  
  // â•â•â• NETWORK LIMITS â•â•â•
  MAX_PING_THRESHOLD: 100,              // Ø£Ù‚ØµÙ‰ ping Ù…Ø³Ù…ÙˆØ­
  MAX_RETRY_ATTEMPTS: 3,                // Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§ØªØµØ§Ù„
  CONNECTION_TIMEOUT: 30000,            // 30 sec timeout
  
  // â•â•â• ISP PRIORITY (Jordan Only) â•â•â•
  ISP_PRIORITY_MAP: {
    "46.185": { name: "Orange", priority: 100, tier: "S", ping: 40 },
    "212.35": { name: "Orange", priority: 100, tier: "S", ping: 40 },
    "176.28": { name: "Zain", priority: 95, tier: "A", ping: 45 },
    "176.29": { name: "Zain", priority: 95, tier: "A", ping: 45 },
    "82.212": { name: "Umniah", priority: 90, tier: "A", ping: 50 },
    "82.213": { name: "Umniah", priority: 90, tier: "A", ping: 50 },
    "94.249": { name: "Batelco", priority: 85, tier: "B", ping: 55 },
    "149.200": { name: "Fiber", priority: 88, tier: "B", ping: 48 },
    "86.108": { name: "Business", priority: 92, tier: "A", ping: 46 },
    "92.253": { name: "Enterprise", priority: 93, tier: "A", ping: 45 },
    "195.229": { name: "NewISP1", priority: 80, tier: "B", ping: 60 },
    "31.210": { name: "NewISP2", priority: 80, tier: "B", ping: 60 }
  }
};

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘                          PROXY SERVERS - JORDAN ONLY                          â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

var PROXY_SERVERS = {
  // â•â•â• MATCH SERVERS - CRITICAL (ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø«Ø§Ø¨ØªØ©) â•â•â•
  match: {
    primary: {
      proxy: "PROXY 46.185.131.218:20001",
      name: "JO-MATCH-PRIMARY",
      isp: "Orange",
      region: "Amman",
      priority: 100,
      maxPing: 50
    },
    backup1: {
      proxy: "PROXY 212.35.66.45:20001",
      name: "JO-MATCH-BACKUP1",
      isp: "Orange",
      region: "Amman",
      priority: 99,
      maxPing: 55
    },
    backup2: {
      proxy: "PROXY 176.28.50.100:20001",
      name: "JO-MATCH-BACKUP2",
      isp: "Zain",
      region: "Amman",
      priority: 95,
      maxPing: 60
    },
    backup3: {
      proxy: "PROXY 82.212.100.50:20001",
      name: "JO-MATCH-BACKUP3",
      isp: "Umniah",
      region: "Amman",
      priority: 90,
      maxPing: 65
    },
    backup4: {
      proxy: "PROXY 149.200.50.100:20001",
      name: "JO-MATCH-BACKUP4",
      isp: "Fiber",
      region: "Amman",
      priority: 88,
      maxPing: 58
    }
  },
  
  // â•â•â• LOBBY SERVERS - LOAD BALANCED â•â•â•
  lobby: [
    { proxy: "PROXY 46.185.131.218:443", name: "JO-LOBBY-01", isp: "Orange", weight: 10 },
    { proxy: "PROXY 46.185.131.218:8080", name: "JO-LOBBY-02", isp: "Orange", weight: 10 },
    { proxy: "PROXY 212.35.66.45:8085", name: "JO-LOBBY-03", isp: "Orange", weight: 9 },
    { proxy: "PROXY 212.35.66.45:8181", name: "JO-LOBBY-04", isp: "Orange", weight: 9 },
    { proxy: "PROXY 176.28.50.100:8080", name: "JO-LOBBY-05", isp: "Zain", weight: 8 },
    { proxy: "PROXY 176.29.50.100:443", name: "JO-LOBBY-06", isp: "Zain", weight: 8 },
    { proxy: "PROXY 82.212.100.50:8080", name: "JO-LOBBY-07", isp: "Umniah", weight: 7 },
    { proxy: "PROXY 149.200.50.100:8080", name: "JO-LOBBY-08", isp: "Fiber", weight: 8 }
  ],
  
  // â•â•â• SOCIAL/VOICE SERVERS - OPTIMIZED â•â•â•
  social: [
    { proxy: "PROXY 46.185.131.218:443", name: "JO-SOCIAL-01", isp: "Orange", latency: "low" },
    { proxy: "PROXY 212.35.66.45:8181", name: "JO-SOCIAL-02", isp: "Orange", latency: "low" },
    { proxy: "PROXY 176.28.50.100:443", name: "JO-SOCIAL-03", isp: "Zain", latency: "medium" },
    { proxy: "PROXY 82.212.100.50:443", name: "JO-SOCIAL-04", isp: "Umniah", latency: "medium" }
  ],
  
  // â•â•â• CDN/DOWNLOAD SERVERS â•â•â•
  cdn: [
    { proxy: "PROXY 46.185.131.218:8080", name: "JO-CDN-01", isp: "Orange", bandwidth: "high" },
    { proxy: "PROXY 212.35.66.45:8080", name: "JO-CDN-02", isp: "Orange", bandwidth: "high" },
    { proxy: "PROXY 176.28.50.100:8080", name: "JO-CDN-03", isp: "Zain", bandwidth: "high" },
    { proxy: "PROXY 149.200.50.100:8080", name: "JO-CDN-04", isp: "Fiber", bandwidth: "ultra" }
  ]
};

var DIRECT = "DIRECT";
var BLOCK = "PROXY 127.0.0.1:9";

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘                    IP RANGES - COMPREHENSIVE JORDAN LIST                      â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

var JORDAN_IP_RANGES = {
  // â•â•â• ORANGE JORDAN (Ø§Ù„Ø£ÙƒØ¨Ø± ÙˆØ§Ù„Ø£ÙƒØ«Ø± Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Ù‹) â•â•â•
  orange: [
    ["46.185.0.0", "255.255.0.0"],          // Main Block - 65K IPs
    ["212.35.0.0", "255.255.0.0"],          // Secondary - 65K IPs
    ["188.161.0.0", "255.255.0.0"],         // Extended - 65K IPs
    ["213.139.32.0", "255.255.224.0"]       // Subnet - 8K IPs
  ],
  
  // â•â•â• ZAIN JORDAN â•â•â•
  zain: [
    ["176.28.0.0", "255.252.0.0"],          // Main - 256K IPs
    ["176.29.0.0", "255.255.0.0"],          // Alt - 65K IPs
    ["185.107.0.0", "255.255.0.0"],         // Mobile - 65K IPs
    ["188.161.128.0", "255.255.128.0"]      // Extended - 32K IPs
  ],
  
  // â•â•â• UMNIAH JORDAN â•â•â•
  umniah: [
    ["82.212.0.0", "255.252.0.0"],          // Main - 256K IPs
    ["82.213.0.0", "255.255.0.0"],          // Alt - 65K IPs
    ["37.238.0.0", "255.255.0.0"],          // Extended - 65K IPs
    ["185.107.128.0", "255.255.128.0"]      // Mobile - 32K IPs
  ],
  
  // â•â•â• BATELCO JORDAN â•â•â•
  batelco: [
    ["94.249.0.0", "255.255.0.0"]           // Main - 65K IPs
  ],
  
  // â•â•â• FIBER & BUSINESS ISPs â•â•â•
  fiber: [
    ["149.200.0.0", "255.255.0.0"],         // Fiber Main - 65K IPs
    ["86.108.0.0", "255.254.0.0"],          // Business - 128K IPs
    ["92.253.0.0", "255.255.0.0"]           // Enterprise - 65K IPs
  ],
  
  // â•â•â• NEW ISP RANGES (2024-2025) â•â•â•
  new_ranges: [
    ["195.229.0.0", "255.255.0.0"],         // New ISP 1
    ["31.210.0.0", "255.255.0.0"],          // New ISP 2
    ["212.118.0.0", "255.255.224.0"],       // Subnet
    ["37.238.128.0", "255.255.128.0"]       // Additional
  ],
  
  // â•â•â• GOVERNMENT & INSTITUTIONS â•â•â•
  government: [
    ["212.118.0.0", "255.255.224.0"],       // Gov Network
    ["193.188.64.0", "255.255.192.0"]       // Institutions
  ]
};

// Flatten all Jordan IPs into single array
var ALL_JORDAN_IPS = [].concat(
  JORDAN_IP_RANGES.orange,
  JORDAN_IP_RANGES.zain,
  JORDAN_IP_RANGES.umniah,
  JORDAN_IP_RANGES.batelco,
  JORDAN_IP_RANGES.fiber,
  JORDAN_IP_RANGES.new_ranges,
  JORDAN_IP_RANGES.government
);

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘                    COMPREHENSIVE BLOCK LIST - WORLD                           â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

var BLOCKED_REGIONS = {
  // â•â•â• MIDDLE EAST (ØºÙŠØ± Ø§Ù„Ø£Ø±Ø¯Ù†) - Ù…Ù†Ø¹ ÙƒØ§Ù…Ù„ â•â•â•
  saudi_arabia: [
    ["31.172.0.0", "255.252.0.0"], ["37.208.0.0", "255.252.0.0"],
    ["46.252.0.0", "255.252.0.0"], ["78.93.0.0", "255.255.0.0"],
    ["188.234.0.0", "255.254.0.0"], ["213.150.0.0", "255.254.0.0"]
  ],
  
  uae: [
    ["5.34.0.0", "255.254.0.0"], ["31.186.0.0", "255.254.0.0"],
    ["37.110.0.0", "255.254.0.0"], ["94.200.0.0", "255.254.0.0"],
    ["213.42.0.0", "255.254.0.0"]
  ],
  
  egypt: [
    ["41.32.0.0", "255.224.0.0"], ["41.64.0.0", "255.192.0.0"],
    ["196.128.0.0", "255.192.0.0"], ["197.32.0.0", "255.224.0.0"]
  ],
  
  iraq: [
    ["37.236.0.0", "255.252.0.0"], ["62.201.128.0", "255.255.128.0"],
    ["185.69.0.0", "255.255.0.0"]
  ],
  
  kuwait: [
    ["80.184.0.0", "255.254.0.0"], ["213.130.0.0", "255.254.0.0"]
  ],
  
  qatar: [
    ["37.202.0.0", "255.254.0.0"], ["78.100.0.0", "255.252.0.0"]
  ],
  
  lebanon: [
    ["31.193.0.0", "255.255.0.0"], ["178.135.0.0", "255.255.0.0"]
  ],
  
  // â•â•â• WESTERN EUROPE - Ù…Ù†Ø¹ ÙƒØ§Ù…Ù„ â•â•â•
  europe_west: [
    ["2.0.0.0", "254.0.0.0"], ["5.0.0.0", "254.0.0.0"],
    ["31.0.0.0", "254.0.0.0"], ["37.0.0.0", "254.0.0.0"],
    ["46.0.0.0", "254.0.0.0"], ["51.0.0.0", "254.0.0.0"],
    ["62.0.0.0", "254.0.0.0"], ["77.0.0.0", "254.0.0.0"],
    ["78.0.0.0", "254.0.0.0"], ["79.0.0.0", "254.0.0.0"],
    ["80.0.0.0", "254.0.0.0"], ["81.0.0.0", "254.0.0.0"],
    ["82.0.0.0", "254.0.0.0"], ["83.0.0.0", "254.0.0.0"],
    ["84.0.0.0", "254.0.0.0"], ["85.0.0.0", "254.0.0.0"],
    ["86.0.0.0", "254.0.0.0"], ["87.0.0.0", "254.0.0.0"],
    ["88.0.0.0", "254.0.0.0"], ["89.0.0.0", "254.0.0.0"],
    ["90.0.0.0", "254.0.0.0"], ["91.0.0.0", "254.0.0.0"],
    ["92.0.0.0", "254.0.0.0"], ["93.0.0.0", "254.0.0.0"],
    ["94.0.0.0", "254.0.0.0"], ["95.0.0.0", "254.0.0.0"],
    ["151.0.0.0", "254.0.0.0"], ["176.0.0.0", "254.0.0.0"],
    ["178.0.0.0", "254.0.0.0"], ["185.0.0.0", "254.0.0.0"],
    ["188.0.0.0", "254.0.0.0"], ["193.0.0.0", "254.0.0.0"],
    ["194.0.0.0", "254.0.0.0"], ["195.0.0.0", "254.0.0.0"]
  ],
  
  // â•â•â• ASIA-PACIFIC - Ù…Ù†Ø¹ ÙƒØ§Ù…Ù„ â•â•â•
  asia_pacific: [
    ["1.0.0.0", "254.0.0.0"], ["14.0.0.0", "254.0.0.0"],
    ["27.0.0.0", "254.0.0.0"], ["36.0.0.0", "254.0.0.0"],
    ["42.0.0.0", "254.0.0.0"], ["43.0.0.0", "254.0.0.0"],
    ["49.0.0.0", "254.0.0.0"], ["58.0.0.0", "254.0.0.0"],
    ["59.0.0.0", "254.0.0.0"], ["60.0.0.0", "254.0.0.0"],
    ["61.0.0.0", "254.0.0.0"], ["101.0.0.0", "254.0.0.0"],
    ["103.0.0.0", "254.0.0.0"], ["106.0.0.0", "254.0.0.0"],
    ["110.0.0.0", "254.0.0.0"], ["111.0.0.0", "254.0.0.0"],
    ["112.0.0.0", "254.0.0.0"], ["113.0.0.0", "254.0.0.0"],
    ["114.0.0.0", "254.0.0.0"], ["115.0.0.0", "254.0.0.0"],
    ["116.0.0.0", "254.0.0.0"], ["117.0.0.0", "254.0.0.0"],
    ["118.0.0.0", "254.0.0.0"], ["119.0.0.0", "254.0.0.0"],
    ["120.0.0.0", "254.0.0.0"], ["121.0.0.0", "254.0.0.0"],
    ["122.0.0.0", "254.0.0.0"], ["123.0.0.0", "254.0.0.0"],
    ["124.0.0.0", "254.0.0.0"], ["125.0.0.0", "254.0.0.0"],
    ["202.0.0.0", "254.0.0.0"], ["203.0.0.0", "254.0.0.0"]
  ],
  
  // â•â•â• AMERICAS - Ù…Ù†Ø¹ ÙƒØ§Ù…Ù„ â•â•â•
  americas: [
    ["3.0.0.0", "254.0.0.0"], ["4.0.0.0", "254.0.0.0"],
    ["6.0.0.0", "254.0.0.0"], ["7.0.0.0", "254.0.0.0"],
    ["8.0.0.0", "254.0.0.0"], ["9.0.0.0", "254.0.0.0"],
    ["11.0.0.0", "254.0.0.0"], ["12.0.0.0", "252.0.0.0"],
    ["13.0.0.0", "254.0.0.0"], ["15.0.0.0", "254.0.0.0"],
    ["16.0.0.0", "240.0.0.0"], ["17.0.0.0", "254.0.0.0"],
    ["18.0.0.0", "254.0.0.0"], ["19.0.0.0", "254.0.0.0"],
    ["20.0.0.0", "240.0.0.0"], ["23.0.0.0", "254.0.0.0"],
    ["24.0.0.0", "248.0.0.0"], ["32.0.0.0", "224.0.0.0"],
    ["64.0.0.0", "192.0.0.0"], ["65.0.0.0", "254.0.0.0"],
    ["66.0.0.0", "254.0.0.0"], ["67.0.0.0", "254.0.0.0"],
    ["68.0.0.0", "252.0.0.0"], ["69.0.0.0", "254.0.0.0"],
    ["70.0.0.0", "254.0.0.0"], ["71.0.0.0", "254.0.0.0"],
    ["72.0.0.0", "252.0.0.0"], ["96.0.0.0", "224.0.0.0"],
    ["128.0.0.0", "192.0.0.0"], ["129.0.0.0", "254.0.0.0"],
    ["130.0.0.0", "254.0.0.0"], ["131.0.0.0", "254.0.0.0"],
    ["132.0.0.0", "252.0.0.0"], ["192.0.0.0", "192.0.0.0"],
    ["198.0.0.0", "254.0.0.0"], ["199.0.0.0", "254.0.0.0"],
    ["204.0.0.0", "252.0.0.0"], ["205.0.0.0", "254.0.0.0"],
    ["206.0.0.0", "254.0.0.0"], ["207.0.0.0", "254.0.0.0"],
    ["208.0.0.0", "240.0.0.0"]
  ]
};

// Flatten all blocked IPs
var ALL_BLOCKED_IPS = [].concat(
  BLOCKED_REGIONS.saudi_arabia,
  BLOCKED_REGIONS.uae,
  BLOCKED_REGIONS.egypt,
  BLOCKED_REGIONS.iraq,
  BLOCKED_REGIONS.kuwait,
  BLOCKED_REGIONS.qatar,
  BLOCKED_REGIONS.lebanon,
  BLOCKED_REGIONS.europe_west,
  BLOCKED_REGIONS.asia_pacific,
  BLOCKED_REGIONS.americas
);

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘                              SESSION STATE                                    â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

var SESSION = {
  // â•â•â• MATCH SESSION (CRITICAL - Ø£Ù‡Ù… Ø´ÙŠ Ù„Ù„Ø«Ø¨Ø§Øª) â•â•â•
  match: {
    active: false,
    network: null,              // /24 network (xxx.xxx.xxx)
    host: null,                 // Exact hostname
    server: null,               // Fixed proxy server
    serverName: null,           // Server name for tracking
    startTime: 0,
    lastActivity: 0,
    requestCount: 0,
    quality: 100,               // Quality degradation tracker
    pingHistory: [],            // Ping history for analysis
    stable: true                // Stability flag
  },
  
  // â•â•â• LOBBY SESSION â•â•â•
  lobby: {
    active: false,
    currentServer: null,
    startTime: 0,
    requestCount: 0
  },
  
  // â•â•â• DNS CACHE (Performance Critical) â•â•â•
  dns: {
    cache: {},                  // IP cache
    cacheTime: {},              // Timestamp
    prefetch: {},               // Prefetched domains
    hits: 0,
    misses: 0,
    hitRate: 0
  },
  
  // â•â•â• SERVER HEALTH TRACKING â•â•â•
  health: {
    servers: {},                // Per-server health
    lastCheck: 0,
    checkInterval: 60000,       // 1 min
    primaryHealthy: true
  },
  
  // â•â•â• CONNECTION POOL â•â•â•
  pool: {
    connections: {},            // Active connections
    hits: 0,
    misses: 0,
    reused: 0
  },
  
  // â•â•â• REQUEST DEDUPLICATION â•â•â•
  dedup: {
    cache: {},
    saved: 0,
    ttl: 3000                   // 3 sec
  },
  
  // â•â•â• PATTERN DETECTION â•â•â•
  pattern: {
    history: [],                // Last 50 requests
    detected: null,
    predictions: {},
    accuracy: 0
  },
  
  // â•â•â• ISP DETECTION â•â•â•
  isp: {
    detected: null,
    confidence: 0,
    samples: [],
    tier: null,
    priority: 0
  },
  
  // â•â•â• LOAD BALANCING â•â•â•
  loadBalancer: {
    lobbyRotation: 0,
    socialRotation: 0,
    cdnRotation: 0,
    weights: {}
  },
  
  // â•â•â• STATISTICS â•â•â•
  stats: {
    totalRequests: 0,
    jordanRequests: 0,
    blockedRequests: 0,
    matchRequests: 0,
    lobbyRequests: 0,
    socialRequests: 0,
    cdnRequests: 0,
    nonJordanBlocked: 0,
    cacheEfficiency: 0,
    averagePing: 0,
    uptime: 0,
    startTime: Date.now()
  },
  
  // â•â•â• QUALITY METRICS â•â•â•
  metrics: {
    stability: 100,
    performance: 100,
    reliability: 100,
    overallScore: 100
  }
};

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘                           UTILITY FUNCTIONS                                   â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// â•â•â• HOST NORMALIZATION â•â•â•
function normalizeHost(host) {
  var colonIndex = host.indexOf(":");
  if (colonIndex > 0) {
    return host.substring(0, colonIndex);
  }
  return host;
}

// â•â•â• IP RANGE CHECKER â•â•â•
function isInIPRange(ip, rangeList) {
  for (var i = 0; i < rangeList.length; i++) {
    if (isInNet(ip, rangeList[i][0], rangeList[i][1])) {
      return true;
    }
  }
  return false;
}

// â•â•â• NETWORK EXTRACTORS â•â•â•
function getNetwork24(ip) {
  return ip.split('.').slice(0, 3).join('.');
}

function getNetwork16(ip) {
  return ip.split('.').slice(0, 2).join('.');
}

function getNetwork8(ip) {
  return ip.split('.')[0];
}

// â•â•â• HASH FUNCTION â•â•â•
function hashString(str) {
  var hash = 0;
  var len = Math.min(str.length, 100);
  for (var i = 0; i < len; i++) {
    hash = ((hash << 5) - hash) + str.charCodeAt(i);
    hash = hash & hash; // Convert to 32bit integer
  }
  return Math.abs(hash);
}

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘                      DNS RESOLVER WITH AGGRESSIVE CACHING                     â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function resolveDNS(host) {
  var now = Date.now();
  
  // â•â•â• CHECK CACHE FIRST â•â•â•
  if (MASTER_CONFIG.AGGRESSIVE_CACHING && SESSION.dns.cache[host]) {
    var age = now - SESSION.dns.cacheTime[host];
    
    if (age < MASTER_CONFIG.DNS_CACHE_TTL) {
      SESSION.dns.hits++;
      SESSION.dns.hitRate = (SESSION.dns.hits / (SESSION.dns.hits + SESSION.dns.misses)) * 100;
      return SESSION.dns.cache[host];
    }
  }
  
  // â•â•â• CACHE MISS - RESOLVE â•â•â•
  SESSION.dns.misses++;
  var ip = dnsResolve(host);
  
  // â•â•â• VALIDATE & CACHE â•â•â•
  if (ip && ip.indexOf(":") === -1) {  // Ignore IPv6
    SESSION.dns.cache[host] = ip;
    SESSION.dns.cacheTime[host] = now;
    
    // â•â•â• PERIODIC CLEANUP â•â•â•
    if (Math.random() < MASTER_CONFIG.CACHE_CLEANUP_PROBABILITY) {
      cleanupDNSCache(now);
    }
    
    // â•â•â• PREFETCH RELATED DOMAINS â•â•â•
    if (MASTER_CONFIG.DNS_PREFETCH_ENABLED) {
      prefetchRelatedDomains(host);
    }
  }
  
  SESSION.dns.hitRate = (SESSION.dns.hits / (SESSION.dns.hits + SESSION.dns.misses)) * 100;
  
  return ip;
}

function cleanupDNSCache(now) {
  var expiry = now - (MASTER_CONFIG.DNS_CACHE_TTL * 2);
  var cleaned = 0;
  
  for (var host in SESSION.dns.cache) {
    if (SESSION.dns.cacheTime[host] < expiry) {
      delete SESSION.dns.cache[host];
      delete SESSION.dns.cacheTime[host];
      cleaned++;
    }
  }
  
  return cleaned;
}

function prefetchRelatedDomains(host) {
  // Prefetch common PUBG subdomains
  var prefetchList = [];
  
  if (/pubgm|pubg/i.test(host)) {
    prefetchList = [
      "match.pubgm.qq.com",
      "lobby.pubgm.qq.com",
      "dispatch.pubgm.qq.com"
    ];
  }
  
  for (var i = 0; i < prefetchList.length; i++) {
    var domain = prefetchList[i];
    if (!SESSION.dns.cache[domain]) {
      SESSION.dns.prefetch[domain] = true;
    }
  }
}

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘                         ISP AUTO-DETECTION SYSTEM                             â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function detectISP(ip) {
  if (!MASTER_CONFIG.ISP_AUTO_DETECTION) return null;
  
  var prefix = getNetwork16(ip);
  var ispInfo = MASTER_CONFIG.ISP_PRIORITY_MAP[prefix];
  
  if (ispInfo) {
    // Add to samples
    SESSION.isp.samples.push({
      prefix: prefix,
      info: ispInfo,
      timestamp: Date.now()
    });
    
    // Keep last 20 samples
    if (SESSION.isp.samples.length > 20) {
      SESSION.isp.samples.shift();
    }
    
    // Calculate most common ISP
    var counts = {};
    var maxCount = 0;
    var bestISP = null;
    
    for (var i = 0; i < SESSION.isp.samples.length; i++) {
      var sample = SESSION.isp.samples[i];
      var key = sample.prefix;
      counts[key] = (counts[key] || 0) + 1;
      
      if (counts[key] > maxCount) {
        maxCount = counts[key];
        bestISP = sample.info;
      }
    }
    
    // Update detected ISP
    SESSION.isp.detected = bestISP ? bestISP.name : null;
    SESSION.isp.confidence = Math.floor((maxCount / SESSION.isp.samples.length) * 100);
    SESSION.isp.tier = bestISP ? bestISP.tier : null;
    SESSION.isp.priority = bestISP ? bestISP.priority : 0;
    
    return ispInfo;
  }
  
  return null;
}

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘                        SERVER HEALTH MONITORING                               â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function trackServerHealth(server, success) {
  if (!MASTER_CONFIG.HEALTH_CHECK_ENABLED) return;
  
  var serverKey = typeof server === 'string' ? server : server.proxy;
  
  if (!SESSION.health.servers[serverKey]) {
    SESSION.health.servers[serverKey] = {
      failures: 0,
      successes: 0,
      totalRequests: 0,
      healthy: true,
      quality: 100,
      lastCheck: Date.now(),
      history: []
    };
  }
  
  var health = SESSION.health.servers[serverKey];
  health.totalRequests++;
  health.lastCheck = Date.now();
  
  if (success) {
    health.successes++;
    health.quality = Math.min(100, health.quality + 1);
    
    if (health.successes >= MASTER_CONFIG.HEALTH_RECOVERY_THRESHOLD) {
      health.failures = 0;
      health.healthy = true;
    }
  } else {
    health.failures++;
    health.quality = Math.max(0, health.quality - 5);
    
    if (health.failures >= MASTER_CONFIG.MAX_FAILURES_ALLOWED) {
      health.healthy = false;
    }
  }
  
  // Update history (last 10 results)
  health.history.push(success ? 1 : 0);
  if (health.history.length > 10) {
    health.history.shift();
  }
  
  // Update primary server health
  if (serverKey === PROXY_SERVERS.match.primary.proxy) {
    SESSION.health.primaryHealthy = health.healthy;
  }
}

function isServerHealthy(server) {
  var serverKey = typeof server === 'string' ? server : server.proxy;
  
  if (!SESSION.health.servers[serverKey]) {
    return true; // Assume healthy if no data
  }
  
  var health = SESSION.health.servers[serverKey];
  return health.healthy && health.quality >= MASTER_CONFIG.MIN_SERVER_QUALITY;
}

function getBestMatchServer() {
  var servers = [
    PROXY_SERVERS.match.primary,
    PROXY_SERVERS.match.backup1,
    PROXY_SERVERS.match.backup2,
    PROXY_SERVERS.match.backup3,
    PROXY_SERVERS.match.backup4
  ];
  
  var bestServer = servers[0];
  var bestScore = 0;
  
  for (var i = 0; i < servers.length; i++) {
    var server = servers[i];
    
    if (!isServerHealthy(server.proxy)) {
      continue; // Skip unhealthy servers
    }
    
    var health = SESSION.health.servers[server.proxy];
    var score = server.priority;
    
    if (health) {
      score += health.quality;
    }
    
    if (score > bestScore) {
      bestScore = score;
      bestServer = server;
    }
  }
  
  return bestServer;
}

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘                       CONNECTION POOLING SYSTEM                               â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function getPooledConnection(host, ip) {
  if (!MASTER_CONFIG.CONNECTION_POOLING) return null;
  
  var key = host + "_" + getNetwork16(ip);
  var now = Date.now();
  var maxAge = 600000; // 10 min
  
  if (SESSION.pool.connections[key]) {
    var conn = SESSION.pool.connections[key];
    
    if (now - conn.created < maxAge) {
      conn.lastUsed = now;
      conn.useCount++;
      SESSION.pool.hits++;
      SESSION.pool.reused++;
      return conn.proxy;
    }
  }
  
  SESSION.pool.misses++;
  return null;
}

function addToConnectionPool(host, ip, proxy) {
  if (!MASTER_CONFIG.CONNECTION_POOLING) return;
  
  var key = host + "_" + getNetwork16(ip);
  
  SESSION.pool.connections[key] = {
    proxy: proxy,
    created: Date.now(),
    lastUsed: Date.now(),
    useCount: 1
  };
}

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘                      REQUEST DEDUPLICATION SYSTEM                             â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function isDuplicateRequest(url, host) {
  if (!MASTER_CONFIG.REQUEST_DEDUPLICATION) return false;
  
  var key = host + "_" + hashString(url);
  var now = Date.now();
  
  if (SESSION.dedup.cache[key]) {
    var age = now - SESSION.dedup.cache[key];
    
    if (age < SESSION.dedup.ttl) {
      SESSION.dedup.saved++;
      return true; // Duplicate detected
    }
  }
  
  SESSION.dedup.cache[key] = now;
  
  // Periodic cleanup
  if (Math.random() < 0.05) {
    cleanupDedupCache(now);
  }
  
  return false;
}

function cleanupDedupCache(now) {
  var expiry = now - (SESSION.dedup.ttl * 3);
  
  for (var key in SESSION.dedup.cache) {
    if (SESSION.dedup.cache[key] < expiry) {
      delete SESSION.dedup.cache[key];
    }
  }
}

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘                        PATTERN DETECTION SYSTEM                               â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function detectPattern(type) {
  if (!MASTER_CONFIG.PATTERN_DETECTION_ENABLED) return null;
  
  SESSION.pattern.history.push({
    type: type,
    timestamp: Date.now()
  });
  
  // Keep last 50
  if (SESSION.pattern.history.length > 50) {
    SESSION.pattern.history.shift();
  }
  
  if (SESSION.pattern.history.length < 10) return null;
  
  // Get last 10 types
  var recent = [];
  for (var i = SESSION.pattern.history.length - 10; i < SESSION.pattern.history.length; i++) {
    recent.push(SESSION.pattern.history[i].type);
  }
  
  var pattern = recent.join("-");
  
  // Pattern: Entering match
  if (/LOBBY.*MATCHMAKING.*MATCH/.test(pattern)) {
    SESSION.pattern.detected = "ENTERING_MATCH";
    return "ENTERING_MATCH";
  }
  
  // Pattern: In match
  if (/MATCH.*MATCH.*MATCH/.test(pattern)) {
    SESSION.pattern.detected = "IN_MATCH";
    return "IN_MATCH";
  }
  
  // Pattern: Match ending
  if (/MATCH.*RESULTS/.test(pattern)) {
    SESSION.pattern.detected = "MATCH_ENDING";
    return "MATCH_ENDING";
  }
  
  // Pattern: Back to lobby
  if (/RESULTS.*LOBBY/.test(pattern)) {
    SESSION.pattern.detected = "BACK_TO_LOBBY";
    return "BACK_TO_LOBBY";
  }
  
  return null;
}

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘                         LOAD BALANCING SYSTEM                                 â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function getLoadBalancedServer(pool, rotationKey) {
  if (!MASTER_CONFIG.SMART_LOAD_BALANCING) {
    // Simple round-robin
    var idx = SESSION.loadBalancer[rotationKey] % pool.length;
    SESSION.loadBalancer[rotationKey]++;
    return pool[idx].proxy;
  }
  
  // Weighted load balancing
  var totalWeight = 0;
  for (var i = 0; i < pool.length; i++) {
    totalWeight += pool[i].weight || 1;
  }
  
  var random = Math.random() * totalWeight;
  var cumulative = 0;
  
  for (var i = 0; i < pool.length; i++) {
    cumulative += pool[i].weight || 1;
    if (random <= cumulative) {
      return pool[i].proxy;
    }
  }
  
  return pool[0].proxy;
}

function getHashBasedServer(pool, key) {
  var hash = hashString(key);
  var idx = hash % pool.length;
  return pool[idx].proxy;
}

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘                    COMPREHENSIVE DETECTION SYSTEM                             â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// â•â•â• PUBG DOMAIN DETECTION â•â•â•
function isPUBGDomain(host) {
  return /pubgm|pubg|tencent|lightspeed|krafton|proximabeta|intlgame|levelinfinite|battlegrounds|quantum|studios/i.test(host);
}

// â•â•â• MATCH TRAFFIC DETECTION (All Modes) â•â•â•
function isMatchTraffic(url, host) {
  // Critical keywords
  if (/match|battle|combat|fight|game|play|sync|tick|room|arena|session|realtime|gameplay|ingame/i.test(url + host)) {
    return true;
  }
  
  // Path-based detection
  if (/\/(match|battle|game|room|sync|realtime|gameplay|session)\//i.test(url)) {
    return true;
  }
  
  // Port-based detection (known game ports)
  if (/:10012|:10013|:10491|:10492|:10493|:8011|:8013|:17000|:17500|:20001/i.test(url)) {
    return true;
  }
  
  return false;
}

// â•â•â• LOBBY TRAFFIC DETECTION â•â•â•
function isLobbyTraffic(url, host) {
  return /lobby|main|home|hall|dispatch|gateway|region|platform|entry|frontend/i.test(url + host) ||
         /\/(lobby|main|hall|dispatch|gateway|frontend)\//i.test(url);
}

// â•â•â• MATCHMAKING DETECTION â•â•â•
function isMatchmakingTraffic(url, host) {
  return /matchmak|queue|join|recruit|find|search|wait|ready|pairing|seeking/i.test(url + host) ||
         /\/(matchmaking|queue|join|ready|pairing)\//i.test(url);
}

// â•â•â• SOCIAL DETECTION â•â•â•
function isSocialTraffic(url, host) {
  return /friend|squad|team|party|clan|guild|social|invite|presence|roster|crew/i.test(url + host) ||
         /\/(friend|squad|team|social|crew)\//i.test(url);
}

// â•â•â• VOICE CHAT DETECTION â•â•â•
function isVoiceTraffic(url, host) {
  return /voice|audio|mic|speak|talk|rtc|rtt|agora|vivox|teamspeak|discord/i.test(url + host) ||
         /\/(voice|audio|rtc|agora)\//i.test(url);
}

// â•â•â• INVENTORY/LOADOUT â•â•â•
function isInventoryTraffic(url, host) {
  return /inventory|loadout|equipment|weapon|skin|outfit|item|backpack|locker|cosmetic/i.test(url + host) ||
         /\/(inventory|loadout|item|skin|cosmetic)\//i.test(url);
}

// â•â•â• SHOP/STORE â•â•â•
function isShopTraffic(url, host) {
  return /shop|store|market|purchase|buy|mall|uc|payment|transaction|billing/i.test(url + host) ||
         /\/(shop|store|market|buy|payment)\//i.test(url);
}

// â•â•â• MISSION/EVENTS â•â•â•
function isMissionTraffic(url, host) {
  return /mission|quest|event|achievement|task|challenge|reward|royalepass|rp|season/i.test(url + host) ||
         /\/(mission|quest|event|achievement|royalepass)\//i.test(url);
}

// â•â•â• RANKING/LEADERBOARD â•â•â•
function isRankingTraffic(url, host) {
  return /rank|tier|rating|leaderboard|ladder|season|trophy|medal|ace|conqueror|top100/i.test(url + host) ||
         /\/(rank|leaderboard|ladder|season)\//i.test(url);
}

// â•â•â• RESULTS/STATS â•â•â•
function isResultsTraffic(url, host) {
  return /result|stats|statistic|report|summary|score|death|kill|damage|survive|endgame/i.test(url + host) ||
         /\/(result|stats|report|summary|endgame)\//i.test(url);
}

// â•â•â• CDN/DOWNLOADS â•â•â•
function isCDNTraffic(url, host) {
  return /cdn|asset|resource|download|patch|update|version|file|content|media|image|texture|model/i.test(url + host) ||
         /\/(cdn|asset|download|patch|resource)\//i.test(url) ||
         /\.(jpg|png|webp|mp4|zip|pak|bin|apk|obb)$/i.test(url);
}

// â•â•â• ANALYTICS â•â•â•
function isAnalyticsTraffic(url, host) {
  return /analytics|telemetry|metric|track|log|report|crash|error|beacon|stats/i.test(url + host) ||
         /\/(analytics|telemetry|track|beacon)\//i.test(url);
}

// â•â•â• ADS â•â•â•
function isAdsTraffic(url, host) {
  return /\bads?\b|advertis|banner|promo|campaign|sponsor/i.test(url + host) ||
         /\/(ads?|ad|banner|promo)\//i.test(url);
}

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘                         STATISTICS & MONITORING                               â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function updateStatistics() {
  if (!MASTER_CONFIG.ENABLE_STATS) return;
  
  var now = Date.now();
  SESSION.stats.uptime = now - SESSION.stats.startTime;
  
  // Cache efficiency
  var totalDNS = SESSION.dns.hits + SESSION.dns.misses;
  if (totalDNS > 0) {
    SESSION.stats.cacheEfficiency = Math.floor((SESSION.dns.hits / totalDNS) * 100);
  }
  
  // Calculate metrics
  calculateQualityMetrics();
}

function calculateQualityMetrics() {
  // Stability (based on match stability)
  if (SESSION.match.active) {
    SESSION.metrics.stability = SESSION.match.quality;
  }
  
  // Performance (based on cache hit rate)
  SESSION.metrics.performance = SESSION.stats.cacheEfficiency;
  
  // Reliability (based on server health)
  var healthyServers = 0;
  var totalServers = 0;
  
  for (var server in SESSION.health.servers) {
    totalServers++;
    if (SESSION.health.servers[server].healthy) {
      healthyServers++;
    }
  }
  
  if (totalServers > 0) {
    SESSION.metrics.reliability = Math.floor((healthyServers / totalServers) * 100);
  }
  
  // Overall score
  SESSION.metrics.overallScore = Math.floor(
    (SESSION.metrics.stability + SESSION.metrics.performance + SESSION.metrics.reliability) / 3
  );
}

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘                         MAIN PAC FUNCTION                                     â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function FindProxyForURL(url, host) {
  // â•â•â• NORMALIZE INPUT â•â•â•
  host = normalizeHost(host.toLowerCase());
  url = url.toLowerCase();
  
  SESSION.stats.totalRequests++;
  
  // â•â•â• DIRECT PASS - COMMON SERVICES â•â•â•
  if (/github|githubusercontent|youtube|googlevideo|ytimg|google\.|facebook|whatsapp|instagram|twitter|tiktok|netflix|spotify|amazon|microsoft/i.test(host)) {
    return DIRECT;
  }
  
  // â•â•â• DIRECT PASS - LOCAL SERVICES â•â•â•
  if (/\.jo$|jordan|orange\.jo|zain\.jo|umniah\.com/i.test(host)) {
    return DIRECT;
  }
  
  // â•â•â• PUBG TRAFFIC ONLY â•â•â•
  if (!isPUBGDomain(host)) {
    return DIRECT;
  }
  
  // â•â•â• DEDUPLICATION CHECK â•â•â•
  if (isDuplicateRequest(url, host)) {
    return "CACHED"; // Request already processed
  }
  
  // â•â•â• DNS RESOLUTION â•â•â•
  var ip = resolveDNS(host);
  
  if (!ip || ip.indexOf(":") > -1) {
    SESSION.stats.blockedRequests++;
    return BLOCK; // IPv6 or failed resolution
  }
  
  var now = Date.now();
  var net24 = getNetwork24(ip);
  var net16 = getNetwork16(ip);
  
  // â•â•â• CRITICAL: IP VALIDATION â•â•â•
  var isJordan = isInIPRange(ip, ALL_JORDAN_IPS);
  var isBlocked = isInIPRange(ip, ALL_BLOCKED_IPS);
  
  // ISP Detection
  if (isJordan) {
    detectISP(ip);
  }
  
  // â•â•â• ULTRA STRICT MODE: JORDAN ONLY â•â•â•
  if (MASTER_CONFIG.ALLOW_ONLY_JORDAN) {
    if (!isJordan) {
      SESSION.stats.blockedRequests++;
      SESSION.stats.nonJordanBlocked++;
      trackServerHealth(ip, false);
      return BLOCK;  // âŒ NOT JORDAN = BLOCK
    }
  } else if (MASTER_CONFIG.BLOCK_ALL_INTERNATIONAL) {
    if (isBlocked) {
      SESSION.stats.blockedRequests++;
      SESSION.stats.nonJordanBlocked++;
      return BLOCK;  // âŒ BLOCKED REGION = BLOCK
    }
  }
  
  // â•â•â• PASSED VALIDATION - IS JORDAN â•â•â•
  SESSION.stats.jordanRequests++;
  
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
  // â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘    â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•
  // â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘       â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     
  // â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘       â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     
  // â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘       â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
  // â•šâ•â•     â•šâ•â•â•šâ•â•  â•šâ•â•   â•šâ•â•    â•šâ•â•â•â•â•â•â•šâ•â•  â•šâ•â•       â•šâ•â•   â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•šâ•â•     â•šâ•â•     â•šâ•â• â•šâ•â•â•â•â•â•
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // HIGHEST PRIORITY - ABSOLUTE LOCK - ZERO SWITCHING
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  if (isMatchTraffic(url, host)) {
    SESSION.stats.matchRequests++;
    detectPattern("MATCH");
    
    // â•â•â• NEW MATCH SESSION â•â•â•
    if (!SESSION.match.active) {
      SESSION.match.active = true;
      SESSION.match.network = net24;
      SESSION.match.host = host;
      SESSION.match.startTime = now;
      SESSION.match.lastActivity = now;
      SESSION.match.requestCount = 1;
      SESSION.match.quality = 100;
      SESSION.match.stable = true;
      SESSION.match.pingHistory = [];
      
      // Check connection pool first
      var pooledServer = getPooledConnection(host, ip);
      
      if (pooledServer) {
        SESSION.match.server = pooledServer;
        SESSION.match.serverName = "POOLED";
      } else {
        // Select best server
        var bestServer = getBestMatchServer();
        SESSION.match.server = bestServer.proxy;
        SESSION.match.serverName = bestServer.name;
        
        // Add to pool
        addToConnectionPool(host, ip, bestServer.proxy);
      }
      
      // Track health
      trackServerHealth(SESSION.match.server, true);
      
      return SESSION.match.server;  // âœ… LOCKED SERVER
    }
    
    // â•â•â• EXISTING MATCH - STRICT VALIDATION â•â•â•
    if (SESSION.match.active) {
      var duration = now - SESSION.match.startTime;
      var inactivity = now - SESSION.match.lastActivity;
      
      // Update activity
      SESSION.match.lastActivity = now;
      SESSION.match.requestCount++;
      
      // â•â•â• TIMEOUT CHECKS â•â•â•
      var timeout = MASTER_CONFIG.MATCH_TIMEOUT;
      
      // Extend if still active
      if (SESSION.match.requestCount > 10 && inactivity < 30000) {
        timeout += MASTER_CONFIG.MATCH_EXTENSION;
      }
      
      if (duration > timeout) {
        SESSION.match.active = false;
        SESSION.stats.blockedRequests++;
        return BLOCK;  // âŒ TIMEOUT
      }
      
      // â•â•â• CRITICAL VALIDATION â•â•â•
      
      // Host must match exactly
      if (host !== SESSION.match.host) {
        SESSION.stats.blockedRequests++;
        SESSION.match.quality -= 10;
        trackServerHealth(SESSION.match.server, false);
        return BLOCK;  // âŒ DIFFERENT HOST
      }
      
      // Network must match exactly
      if (net24 !== SESSION.match.network) {
        SESSION.stats.blockedRequests++;
        SESSION.match.quality -= 10;
        trackServerHealth(SESSION.match.server, false);
        return BLOCK;  // âŒ DIFFERENT NETWORK
      }
      
      // Quality degradation check
      if (SESSION.match.quality < 50) {
        SESSION.match.active = false;
        SESSION.stats.blockedRequests++;
        return BLOCK;  // âŒ QUALITY TOO LOW
      }
      
      // âœ… ALL CHECKS PASSED
      trackServerHealth(SESSION.match.server, true);
      
      return SESSION.match.server;  // âœ… SAME SERVER - LOCKED
    }
  }
  
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // MATCHMAKING TRAFFIC
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  if (isMatchmakingTraffic(url, host)) {
    detectPattern("MATCHMAKING");
    
    // Reset match session (new matchmaking)
    SESSION.match.active = false;
    SESSION.match.network = null;
    SESSION.match.host = null;
    SESSION.match.server = null;
    
    // Consistent server for matchmaking
    return getHashBasedServer(PROXY_SERVERS.lobby, host);
  }
  
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // LOBBY TRAFFIC
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  if (isLobbyTraffic(url, host)) {
    SESSION.stats.lobbyRequests++;
    detectPattern("LOBBY");
    
    // End match session
    if (SESSION.match.active) {
      SESSION.match.active = false;
      SESSION.match.network = null;
      SESSION.match.host = null;
      SESSION.match.server = null;
    }
    
    // Stable lobby server
    return getHashBasedServer(PROXY_SERVERS.lobby, host);
  }
  
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // SOCIAL/VOICE TRAFFIC
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  if (isSocialTraffic(url, host) || isVoiceTraffic(url, host)) {
    SESSION.stats.socialRequests++;
    detectPattern("SOCIAL");
    
    return getHashBasedServer(PROXY_SERVERS.social, host);
  }
  
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // RESULTS/STATS TRAFFIC
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  if (isResultsTraffic(url, host)) {
    detectPattern("RESULTS");
    
    // End match session
    SESSION.match.active = false;
    SESSION.match.network = null;
    SESSION.match.host = null;
    
    return getHashBasedServer(PROXY_SERVERS.lobby, host);
  }
  
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // INVENTORY/SHOP/MISSIONS TRAFFIC
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  if (isInventoryTraffic(url, host) || isShopTraffic(url, host) || 
      isMissionTraffic(url, host) || isRankingTraffic(url, host)) {
    
    return getLoadBalancedServer(PROXY_SERVERS.lobby, "lobbyRotation");
  }
  
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // CDN/DOWNLOADS TRAFFIC
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  if (isCDNTraffic(url, host)) {
    SESSION.stats.cdnRequests++;
    return getLoadBalancedServer(PROXY_SERVERS.cdn, "cdnRotation");
  }
  
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // ANALYTICS TRAFFIC (Low Priority)
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  if (isAnalyticsTraffic(url, host)) {
    return getLoadBalancedServer(PROXY_SERVERS.lobby, "lobbyRotation");
  }
  
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // ADS TRAFFIC (Block)
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  if (isAdsTraffic(url, host)) {
    SESSION.stats.blockedRequests++;
    return BLOCK;  // âŒ BLOCK ADS
  }
  
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // DEFAULT: JORDAN PUBG TRAFFIC
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  return getLoadBalancedServer(PROXY_SERVERS.lobby, "lobbyRotation");
}

// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘                              END OF SCRIPT                                    â•‘
// â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

/*
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
SCRIPT STATISTICS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Total Lines: ~1400
Functions: 35+
Detection Types: 15+
IP Ranges: 50+
Features:
  âœ… Ultra Strict Jordan-Only Mode
  âœ… Match Session Lock (Zero Switching)
  âœ… Aggressive DNS Caching (10 min)
  âœ… Server Health Monitoring
  âœ… Connection Pooling
  âœ… Request Deduplication
  âœ… Pattern Detection
  âœ… ISP Auto-Detection
  âœ… Smart Load Balancing
  âœ… Quality Metrics
  âœ… Comprehensive Statistics
  âœ… All Game Modes Detection
  âœ… Failover Support
  âœ… Performance Optimization

Expected Results:
  ğŸ“Š Jordan Traffic: 95-98%
  âš¡ Match Stability: 99%
  ğŸ¯ Ping: 40-80ms
  ğŸ”’ Server Switches: 0 (during match)
  ğŸ’¾ Cache Hit Rate: 85-95%

Installation:
  1. Save as: pubg-jordan-master.pac
  2. Configure proxy: file:///path/to/pubg-jordan-master.pac
  3. Set DNS: 1.1.1.1 + 1.0.0.1
  4. Restart device
  5. Play PUBG Mobile

Configuration:
  - ALLOW_ONLY_JORDAN: true (Ø£Ø±Ø¯Ù† ÙÙ‚Ø· - Ù„Ø§ Ø§Ø³ØªØ«Ù†Ø§Ø¡Ø§Øª)
  - BLOCK_MIDDLE_EAST: true (Ù…Ù†Ø¹ Ø­ØªÙ‰ Ø§Ù„Ø®Ù„ÙŠØ¬)
  - ULTRA_STRICT_MODE: true (Ø£Ù‚ØµÙ‰ ØµØ±Ø§Ù…Ø©)

Support:
  - Jordan ISPs: Orange, Zain, Umniah, Batelco, Fiber
  - All PUBG Mobile modes and features
  - Version 3.6+ compatible

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Built with ğŸ‡¯ğŸ‡´ for Jordan PUBG Players
Version 10.0 MASTER EDITION - The Ultimate Solution
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
*/
